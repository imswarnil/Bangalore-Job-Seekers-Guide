


@import "./theme/variable";
@import "./theme/mixins";

@import "../node_modules/bulma/sass/index";
@import "./theme/custom";



---
// An empty front matter is required for Jekyll to process this file
---

//==============================================================
// PROJECT: KYOTO INK - A COMPLETE JEKYLL/BULMA THEME
//==============================================================
// This single file contains all variables, mixins, framework
// imports, overrides, and custom component styles for the site.
//
// File Structure:
// 1. Google Font Imports
// 2. SCSS Variables (The Design System)
// 3. SCSS Mixins (Reusable Patterns)
// 4. SCSS Keyframe Animations
// 5. Bulma Framework Import
// 6. Global Overrides (Body, Typography, Links)
// 7. Comprehensive Component Overrides (All Bulma Components)
// 8. Custom Layout Styles (Homepage, Post Page, etc.)
//==============================================================


// --- 1. GOOGLE FONT IMPORTS ---

// --- 2. SCSS VARIABLES (THE DESIGN SYSTEM) ---
//--------------------------------------------------------------

// ** COLOR PALETTE **
$primary: #4361EE;      // A deep, elegant Indigo
$secondary: #3A0CA3;     // A vibrant purple for secondary accents
$success: #4CC9F0;       // A bright cyan for success states
$danger: #F72585;        // A vivid magenta for errors
$warning: #F4A261;       // A warm orange for warnings

$background: #FDFDFF;    // A very clean, slightly cool off-white
$surface: #FFFFFF;
$border: #E9ECEF;
$text: #212529;
$text-light: #495057;
$text-muted: #6C757D;
$text-heading: #000000;  // Pure black for high-impact headings

// ** TYPOGRAPHY **
$family-sans-serif: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
$family-display: "Oswald", -apple-system, BlinkMacSystemFont, "Segoe UI", Impact, sans-serif;
$body-size: 18px;
$body-line-height: 1.8;
$body-weight: 400;

// ** UI TOKENS **
$radius: 4px; // Subtle rounding, almost sharp
$border-width: 1px;
$border-accent-width: 2px;
$shadow: 0 5px 15px rgba($text-heading, 0.05);

// ** BULMA VARIABLE OVERRIDES **
// This section maps our design system to Bulma's core variables.
$body-background-color: $background;
$body-size: $body-size;
$body-line-height: $body-line-height;
$body-weight: $body-weight;
$text: $text;
$text-strong: $text-heading;

$link: $primary;
$link-hover: darken($primary, 5%);
$link-focus-border: $primary;

$family-primary: $family-sans-serif;
$title-family: $family-display;
$title-color: $text-heading;
$title-weight: 700;
$title-line-height: 1.2;
$subtitle-color: $text-light;
$subtitle-family: $family-sans-serif;
$subtitle-weight: 400;

$button-family: $family-display;
$button-weight: 500;
$button-radius: $radius;
$button-border-width: $border-width;
$button-text-transform: uppercase;
$button-letter-spacing: 0.1em;

$input-family: $family-sans-serif;
$input-background-color: $surface;
$input-border-color: $border;
$input-shadow: none;
$input-radius: $radius;
$input-color: $text;
$input-placeholder-color: $text-muted;

$card-radius: $radius;
$card-shadow: none; // IMPORTANT: No shadows on cards by default
$card-header-shadow: none;

$box-radius: $radius;
$box-shadow: none; // IMPORTANT: No shadows on boxes by default

$navbar-background-color: rgba($surface, 0.9);
$navbar-item-color: $text;
$navbar-item-hover-color: $primary;
$navbar-item-active-color: $primary;

$footer-background-color: darken($background, 2%);


// --- 3. SCSS MIXINS (REUSABLE PATTERNS) ---
//--------------------------------------------------------------

// Mixin for the sharp, interactive border effect
@mixin interactive-border {
  border: $border-width solid $border;
  transition: border-color 0.3s ease, transform 0.3s ease;
  &:hover {
    border-color: $primary;
    transform: translateY(-4px);
  }
}

// Mixin for the animated underline on navigation links
@mixin nav-link-underline {
  position: relative;
  &::after {
    content: '';
    position: absolute;
    width: 100%;
    transform: scaleX(0);
    height: $border-accent-width;
    bottom: 0.5em; // Position it below the text
    left: 0;
    background-color: $primary;
    transform-origin: bottom right;
    transition: transform 0.3s ease-out;
  }
  &:hover::after, &.is-active::after {
    transform: scaleX(1);
    transform-origin: bottom left;
  }
}

// Mixin for a modern, flat button style with a fill animation
@mixin button-primary-style {
  position: relative;
  background: transparent;
  border: $border-width solid $primary;
  color: $primary;
  overflow: hidden;
  z-index: 1;
  transition: color 0.4s ease;

  &::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: $primary;
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.4s cubic-bezier(0.82, 0, 0.16, 1);
    z-index: -1;
  }

  &:hover {
    color: $surface;
    &::before {
      transform: scaleX(1);
    }
  }
}


// --- 4. SCSS KEYFRAME ANIMATIONS ---
//--------------------------------------------------------------

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideInUp {
  from { opacity: 0; transform: translateY(50px); }
  to { opacity: 1; transform: translateY(0); }
}


// --- 5. BULMA FRAMEWORK IMPORT ---
//--------------------------------------------------------------
@import "../node_modules/bulma/sass/index";


// --- 6. GLOBAL OVERRIDES ---
//--------------------------------------------------------------

html {
    background: $background; // Ensures no white flash on load
}

body {
    animation: fadeIn 0.6s ease-in-out;
}

// Global link styling
a {
    font-weight: 600;
}

// Improve content readability
.content {
    font-size: $body-size;
    line-height: $body-line-height;
    h1, h2, h3, h4, h5, h6 {
        font-family: $family-display;
        margin-top: 2em;
        margin-bottom: 1em;
    }
    blockquote {
        background-color: lighten($primary, 42%);
        border-left: 3px solid $primary;
        padding: 1.5em;
        border-radius: $radius;
    }
    hr {
        background-color: $border;
        height: 1px;
    }
}


// --- 7. COMPREHENSIVE COMPONENT OVERRIDES ---
//--------------------------------------------------------------

// NAVBAR
.navbar {
    backdrop-filter: blur(10px);
    border-bottom: $border-width solid $border;
    .navbar-item, .navbar-link {
        font-family: $family-display;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        font-size: 0.9rem;
    }
    .navbar-link {
        &::after {
            display: none; // Remove Bulma's default arrow
        }
    }
    .navbar-item a:not(.button) {
        @include nav-link-underline;
    }
    .button.is-primary {
        @include button-primary-style;
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }
}

// BUTTONS
.button {
    transition: all 0.3s ease;
    &:not(.is-primary) {
        &:hover {
            transform: translateY(-2px);
            box-shadow: $shadow;
        }
    }
}
.button.is-primary {
    @include button-primary-style;
}
.button.is-link {
    background-color: transparent;
    border-color: transparent;
    text-decoration: none;
    @include nav-link-underline;
}


// CARD & BOX
.card, .box {
    @include interactive-border;
    background: $surface;
}
.card-header-title {
    font-family: $family-display;
    font-weight: 500;
    font-size: 1.25rem;
}

// FORMS
.input, .textarea {
    border: $border-width solid $border;
    box-shadow: none;
    transition: all 0.3s ease;
    &:focus, &:active {
        border-color: $primary;
        box-shadow: 0 0 0 3px rgba($primary, 0.1);
    }
}

// MESSAGE
.message {
    border: $border-width solid transparent;
    border-left-width: 4px;
    border-radius: $radius;
    box-shadow: $shadow;
    &.is-primary {
        border-color: $primary;
        .message-header { background-color: $primary; }
        .message-body { background-color: $surface; }
    }
    &.is-warning {
        border-color: $warning;
        .message-header { background-color: $warning; }
        .message-body { background-color: $surface; }
    }
}

// MENU
.menu-label {
    font-family: $family-display;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    font-size: 0.8rem;
    color: $text-muted;
}
.menu-list a {
    font-weight: 500;
    border-radius: $radius;
    padding: 0.8em 1em;
    &:hover {
        background-color: lighten($background, 1%);
        color: $primary;
    }
    &.is-active {
        background-color: lighten($primary, 40%);
        color: $primary;
        font-weight: 600;
    }
}

// TABS
.tabs {
    font-family: $family-display;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    ul {
        border-bottom-color: $border;
    }
    a {
        border-bottom-width: 2px;
        &:hover {
            border-bottom-color: $text-light;
        }
    }
    li.is-active a {
        border-bottom-color: $primary;
        color: $primary;
    }
}

// PAGINATION
.pagination-link, .pagination-previous, .pagination-next {
    @include interactive-border;
    font-weight: 600;
    background-color: $surface;
    &:hover {
        border-color: $primary;
    }
}
.pagination-link.is-current {
    background-color: $primary;
    border-color: $primary;
    color: $surface;
}

// TAGS
.tags .tag {
    font-family: $family-monospace;
    font-weight: 600;
    font-size: 0.75rem;
    padding: 0.5em 1em;
    border-radius: $radius;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}


// --- 8. CUSTOM LAYOUT STYLES (HOMEPAGE, POST, ETC.) ---
//--------------------------------------------------------------

// ** HERO SECTION **
.hero.is-home {
    padding: 6rem 1.5rem;
    .hero-image {
        animation: fadeIn 1s 0.2s ease-out backwards;
    }
    .hero-content {
        animation: slideInUp 0.8s ease-out;
    }
}

// ** NEW TIMELINE: CHAPTER FLOW **
.chapter-flow-container {
    padding: 4rem 0;
}
.chapter-item {
    display: grid;
    grid-template-columns: 100px 1fr;
    gap: 2rem;
    margin-bottom: 5rem;
    position: relative;
    
    // The vertical connector line
    &:not(:last-child)::after {
        content: '';
        position: absolute;
        top: 60px;
        bottom: -5rem;
        left: 50px;
        width: 2px;
        background: linear-gradient($border, transparent);
        z-index: 0;
    }
}
.chapter-meta {
    text-align: right;
    position: relative;
    z-index: 1;

    .chapter-number {
        font-family: $family-display;
        font-size: 3rem;
        font-weight: 700;
        color: $primary;
        line-height: 1;
    }
    .chapter-date {
        font-family: $family-monospace;
        font-size: 0.8rem;
        color: $text-muted;
        text-transform: uppercase;
        margin-top: 0.5rem;
    }
}
.chapter-card {
    @include interactive-border; // Use our standard card style
    animation: slideInUp 0.6s ease-out backwards;

    // Custom animation delay for each card
    @for $i from 1 through 10 {
        &:nth-child(#{$i}) {
            animation-delay: #{$i * 0.1}s;
        }
    }
}
@media screen and (max-width: 768px) {
    .chapter-item {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    .chapter-meta {
        text-align: left;
        margin-bottom: 1rem;
        display: flex;
        align-items: baseline;
        gap: 1rem;
    }
    .chapter-item:not(:last-child)::after {
        display: none; // Hide connector on mobile for a cleaner look
    }
}

// ** POST PAGE **
.post-layout {
    padding-top: 4rem;
    padding-bottom: 4rem;
}
.post-header {
    margin-bottom: 3rem;
    border-bottom: $border-width solid $border;
    padding-bottom: 3rem;
    .title {
        font-size: 3.5rem;
    }
}
.post-meta {
    font-family: $family-monospace;
    color: $text-muted;
    text-transform: uppercase;
    font-size: 0.9rem;
}
.post-feature-image {
    border-radius: $radius;
    margin-bottom: 3rem;
}
.post-sidebar .box { // Widgets in the post sidebar
    padding: 1.5rem;
}
.toc-widget .menu-list a {
    font-size: 0.9rem;
    padding: 0.6em 0.75em;
}